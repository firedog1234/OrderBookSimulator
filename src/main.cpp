#include <iostream>
#include <iomanip>
#include "../data/generate_data.cpp"

// TIP To <b>Run</b> code, press <shortcut actionId="Run"/> or
// click the <icon src="AllIcons.Actions.Execute"/> icon in the gutter.
int main() {
    auto generator = OrderGenerator(50.00, 100.00, 10, 1000);
    std::vector<Order> orders = generator.generateOrders(10000);

    // Header
    std::cout << std::left
              << std::setw(15) << "Timestamp"
              << std::setw(10) << "Order ID"
              << std::setw(10) << "Price"
              << std::setw(10) << "Quantity"
              << std::setw(8) << "Side"
              << std::setw(10) << "Type" << std::endl;
    std::cout << std::string(63, '-') << std::endl;

    // Data rows
    for (const auto& order : orders) {
        std::cout << std::left
                  << std::setw(15) << order.timeStamp
                  << std::setw(10) << order.id
                  << std::setw(10) << std::fixed << std::setprecision(2) << order.price
                  << std::setw(10) << order.quantity
                  << std::setw(8) << (order.side == Side::ASK ? "ASK" : "BID")
                  << std::setw(10) << (order.type == OrderType::ADD ? "ADD" :
                                       order.type == OrderType::MODIFY ? "MODIFY" : "CANCEL")
                  << std::endl;
    }

    return 0;
}

/*OrderBookSimulator/
├── README.md                   # Project overview, setup instructions
├── CMakeLists.txt              # Optional, for building C++ backend
├── data/
│   └── generate_data.cpp       # Script to generate random orders
├── include/
│   ├── common/
│   │   ├── macros.h            # Logging macros, constants
│   │   └── types.h             # Order struct, enums (Side, Type)
│   ├── orderbook/
│   │   ├── redblack_tree.h     # Red-Black Tree header
│   │   └── skiplist.h          # Skiplist header
│   └── utils/
│       └── benchmark.h         # Inline timing functions
├── src/
│   ├── main.cpp                # Entry point: reads data, runs benchmarks
│   ├── orderbook/
│   │   ├── redblack_tree.cpp
│   │   └── skiplist.cpp
├── frontend/                   # ReactJS frontend (handled by Sai)
│   ├── package.json
│   └── src/
│       ├── App.js
│       └── components/
├── tests/
│   ├── test_redblack_tree.cpp
│   └── test_skiplist.cpp
└── .gitignore                  # Ignore build artifacts, autogenerated files, editor files */



// TIP See CLion help at <a
// href="https://www.jetbrains.com/help/clion/">jetbrains.com/help/clion/</a>.
//  Also, you can try interactive lessons for CLion by selecting
//  'Help | Learn IDE Features' from the main menu.